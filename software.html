<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Teorema de Bayes</title>
</head>
<body style="font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: 0 auto;">
    
    <h1 style="color: #fff; text-align: center; margin-bottom: 10px;">Calculadora del Teorema de Bayes</h1>
    <p style="color: #fff; text-align: center; margin-bottom: 30px; font-size: 14px;">
        Calcula P(A|B) = Probabilidad de A dado que B ocurrió
    </p>

    <div style="border: 2px solid #ddd; border-radius: 8px; padding: 20px; margin-bottom: 20px;">
        
        <div style="margin-bottom: 20px;">
            <label style="color: #fff; display: block; margin-bottom: 5px; font-weight: bold;">
                P(A) - Probabilidad a priori de A:
            </label>
            <input type="number" id="pA" min="0" max="1" step="0.01" value="0.01" 
                   style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 16px;">
            <small style="color: #888;">Valor entre 0 y 1 (ejemplo: 0.01 = 1%)</small>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="color: #fff; display: block; margin-bottom: 5px; font-weight: bold;">
                P(B|A) - Probabilidad de B dado que A es verdadero:
            </label>
            <input type="number" id="pBA" min="0" max="1" step="0.01" value="0.99" 
                   style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 16px;">
            <small style="color: #888;">Valor entre 0 y 1 (ejemplo: 0.99 = 99%)</small>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="color: #fff; display: block; margin-bottom: 5px; font-weight: bold;">
                P(B|¬A) - Probabilidad de B dado que A es falso:
            </label>
            <input type="number" id="pBnotA" min="0" max="1" step="0.01" value="0.05" 
                   style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 16px;">
            <small style="color: #888;">Valor entre 0 y 1 (ejemplo: 0.05 = 5%)</small>
        </div>

        <button onclick="calcular()" 
                style="width: 100%; padding: 12px; color: white; border: none; border-radius: 4px; font-size: 16px; cursor: pointer; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            Calcular P(A|B)
        </button>
    </div>

    <div id="resultado" style="border: 2px solid #4CAF50; border-radius: 8px; padding: 20px; display: none;">
        <h2 style="color: #fff; margin-top: 0;">Resultado:</h2>
        <div style="color: #fff; font-size: 18px; margin-bottom: 15px;">
            <strong>P(A|B) = <span id="resultadoValor" style="color: #4CAF50; font-size: 24px;"></span></strong>
        </div>
        <div style="color: #fff; font-size: 14px; line-height: 1.6;">
            <p style="margin: 5px 0;"><strong>Interpretación:</strong></p>
            <p id="interpretacion" style="margin: 5px 0;"></p>
        </div>
        <div style="margin-top: 20px; padding: 15px; border-left: 4px solid #667eea;">
            <p style="color: #fff; margin: 0; font-size: 14px;"><strong>Cálculo paso a paso:</strong></p>
            <p id="pasoAPaso" style="color: #fff; margin: 10px 0 0 0; font-size: 13px; line-height: 1.6;"></p>
        </div>
    </div>

    <div style="margin-top: 30px; padding: 15px; border: 1px solid #e0e0e0; border-radius: 8px;">
        <h3 style="color: #fff; margin-top: 0;">Fórmula del Teorema de Bayes:</h3>
        <p style="color: #fff; font-size: 14px; text-align: center; margin: 15px 0;">
            P(A|B) = [P(B|A) × P(A)] / [P(B|A) × P(A) + P(B|¬A) × P(¬A)]
        </p>
    </div>

    <script>
        function calcular() {
            // Obtener valores
            const pA = parseFloat(document.getElementById('pA').value);
            const pBA = parseFloat(document.getElementById('pBA').value);
            const pBnotA = parseFloat(document.getElementById('pBnotA').value);

            // Validar entrada
            if (isNaN(pA) || isNaN(pBA) || isNaN(pBnotA)) {
                alert('Por favor ingresa valores numéricos válidos');
                return;
            }

            if (pA < 0 || pA > 1 || pBA < 0 || pBA > 1 || pBnotA < 0 || pBnotA > 1) {
                alert('Todos los valores deben estar entre 0 y 1');
                return;
            }

            // Calcular P(¬A)
            const pNotA = 1 - pA;

            // Calcular P(B) - Probabilidad total de B
            const pB = (pBA * pA) + (pBnotA * pNotA);

            // Calcular P(A|B) usando el Teorema de Bayes
            const pAgivenB = (pBA * pA) / pB;

            // Mostrar resultado
            document.getElementById('resultadoValor').textContent = 
                (pAgivenB * 100).toFixed(2) + '% (' + pAgivenB.toFixed(4) + ')';

            // Interpretación
            let interpretacion = '';
            if (pAgivenB > 0.7) {
                interpretacion = 'Alta probabilidad de que A sea verdadero dado que B ocurrió.';
            } else if (pAgivenB > 0.3) {
                interpretacion = 'Probabilidad moderada de que A sea verdadero dado que B ocurrió.';
            } else {
                interpretacion = 'Baja probabilidad de que A sea verdadero dado que B ocurrió.';
            }
            document.getElementById('interpretacion').textContent = interpretacion;

            // Paso a paso
            const pasoAPaso = `
                1. P(¬A) = 1 - P(A) = 1 - ${pA} = ${pNotA.toFixed(4)}<br>
                2. P(B) = P(B|A) × P(A) + P(B|¬A) × P(¬A)<br>
                   P(B) = ${pBA} × ${pA} + ${pBnotA} × ${pNotA.toFixed(4)} = ${pB.toFixed(4)}<br>
                3. P(A|B) = [P(B|A) × P(A)] / P(B)<br>
                   P(A|B) = [${pBA} × ${pA}] / ${pB.toFixed(4)} = ${pAgivenB.toFixed(4)}
            `;
            document.getElementById('pasoAPaso').innerHTML = pasoAPaso;

            // Mostrar el div de resultado
            document.getElementById('resultado').style.display = 'block';
            
            // Scroll suave al resultado
            document.getElementById('resultado').scrollIntoView({ behavior: 'smooth' });
        }

        // Permitir calcular con Enter
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                calcular();
            }
        });
    </script>

</body>
</html>